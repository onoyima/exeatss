/* Mobile Responsiveness Enhancements for Android and iOS */

/* Prevent horizontal scroll on all pages */
* {
  box-sizing: border-box;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  position: relative;
  /* Enable smooth scrolling */
  scroll-behavior: smooth;
  /* Ensure vertical scrolling is always enabled */
  overflow-y: auto;
  /* Prevent scroll chaining on mobile */
  overscroll-behavior-y: contain;
}

/* Ensure smooth momentum scrolling on iOS */
html {
  -webkit-overflow-scrolling: touch;
}

/* Prevent any fixed elements from blocking scroll */
body {
  /* Ensure body can scroll */
  min-height: 100vh;
  height: auto;
  /* Allow touch scrolling */
  touch-action: pan-y pinch-zoom;
}

  /* Mobile-specific viewport fixes */
@media (max-width: 768px) {
  /* Ensure all containers respect viewport width */
  .container,
  [class*="container"],
  main,
  section,
  article,
  div {
    max-width: 100vw;
    overflow-x: hidden;
  }

  /* Fix for cards and content blocks */
  .card,
  [class*="card"] {
    max-width: 100%;
    overflow-x: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Better table handling on mobile */
  table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    white-space: nowrap;
  }

  /* Ensure images don't overflow */
  img {
    max-width: 100%;
    height: auto;
  }

  /* Better form element sizing */
  input,
  textarea,
  select,
  button {
    max-width: 100%;
    font-size: 16px !important; /* Prevents zoom on iOS */
  }

  /* Touch-friendly spacing */
  button,
  a,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 16px;
  }

  /* Better text wrapping */
  p,
  span,
  div {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  /* Prevent text from being too small */
  * {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Better modal/dialog sizing */
  [role="dialog"],
  .modal,
  .dialog {
    max-width: calc(100vw - 32px);
    margin: 16px;
  }

  /* Grid improvements */
  .grid,
  [class*="grid"] {
    grid-template-columns: 1fr !important;
    gap: 1rem;
  }

  /* Flex improvements */
  .flex,
  [class*="flex"] {
    flex-wrap: wrap;
  }

  /* Better padding for mobile */
  .px-4,
  .px-6,
  .px-8 {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Ensure fixed/sticky elements don't block scrolling */
  [style*="position: fixed"],
  [style*="position: sticky"],
  .fixed,
  .sticky {
    /* Allow pointer events to pass through to scrollable content */
    pointer-events: auto;
    /* Ensure they don't interfere with touch scrolling */
    touch-action: none;
  }

  /* Add padding to body to account for fixed elements at bottom */
  body {
    padding-bottom: 80px; /* Space for WhatsApp button and other fixed elements */
  }

  /* Ensure main content area is scrollable */
  main,
  [role="main"] {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    /* Allow vertical scrolling */
    touch-action: pan-y;
  }
}

/* Android-specific fixes */
@supports (-webkit-appearance: none) {
  @media (max-width: 768px) {
    /* Fix for Android Chrome address bar */
    body {
      min-height: 100vh;
      min-height: -webkit-fill-available;
    }

    html {
      height: -webkit-fill-available;
    }
  }
}

/* iOS-specific fixes */
@supports (-webkit-touch-callout: none) {
  @media (max-width: 768px) {
    /* Fix for iOS Safari bottom bar */
    body {
      min-height: 100vh;
      min-height: -webkit-fill-available;
    }

    /* Prevent iOS zoom on input focus */
    input,
    select,
    textarea {
      font-size: 16px !important;
    }

    /* Better iOS scrolling */
    * {
      -webkit-overflow-scrolling: touch;
    }
  }
}

/* Landscape mode optimizations */
@media (max-width: 768px) and (orientation: landscape) {
  /* Reduce vertical spacing in landscape */
  .py-8,
  .py-6 {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  /* Smaller headers in landscape */
  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.25rem !important;
  }
}

/* Small mobile devices (< 375px) */
@media (max-width: 374px) {
  /* Even smaller spacing for very small devices */
  .p-6,
  .p-4 {
    padding: 0.75rem !important;
  }

  /* Smaller text for very small screens */
  body {
    font-size: 14px;
  }

  h1 {
    font-size: 1.5rem !important;
  }
}

/* Accessibility improvements for mobile */
@media (max-width: 768px) {
  /* Larger tap targets for accessibility */
  a,
  button,
  [role="button"],
  [tabindex]:not([tabindex="-1"]) {
    min-height: 48px;
    min-width: 48px;
  }

  /* Better focus indicators on mobile */
  *:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
  }
}
